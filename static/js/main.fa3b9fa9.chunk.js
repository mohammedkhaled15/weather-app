(this["webpackJsonpthe-ultimate-api-challenge-weather-app-react"]=this["webpackJsonpthe-ultimate-api-challenge-weather-app-react"]||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),s=a.n(r),i=(a(66),a(67),a(7)),o=a(19),l=a(31),d=a(51),u=a(32),m=a.n(u),f="f3df22d37e0ab270347f62a9b3d4cc89",j=Object(o.b)("getForecast",function(){var e=Object(d.a)(Object(l.a)().mark((function e(t){var a,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?","q=").concat(t,"&appid=").concat(f));case 2:return a=e.sent,e.next=5,m.a.get("".concat("https://api.openweathermap.org/data/2.5/forecast?","units=metric&lat=").concat(a.data.coord.lat,"&lon=").concat(a.data.coord.lon,"&appid=").concat(f));case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b=Object(o.c)({name:"forecast",initialState:{loading:!1,forecast:[],error:""},extraReducers:function(e){e.addCase(j.pending,(function(e){e.loading=!0})),e.addCase(j.fulfilled,(function(e,t){e.loading=!1,e.forecast=t.payload,e.error=""})),e.addCase(j.rejected,(function(e,t){e.loading=!1,e.forecast=[],e.error="There is No Data For This City"}))}}).reducer,h=Object(o.a)({reducer:{forecast:b}}),x=a(34),p=a.n(x),g=a(1),O=function(){return Object(g.jsxs)("h1",{className:p.a.heading,children:[Object(g.jsx)("span",{className:p.a.light,children:"Weather"})," Forecast"]})},w=a(52),v=a.n(w),y=a(8),_=a(35),N=a.n(_),A=a(61),F={method:"GET",headers:{"X-RapidAPI-Key":"159f07ac27msh71daf479e1b2630p147eb3jsnabcc64a2ff6d","X-RapidAPI-Host":"wft-geo-db.p.rapidapi.com"}},D=(a(103),function(e){var t=e.onSearchChange,a=Object(i.b)(),c=Object(n.useState)(""),r=Object(y.a)(c,2),s=r[0],o=r[1],l=function(e){e.preventDefault(),s&&""!==s&&a(j(s.label))};return Object(g.jsxs)("form",{onSubmit:l,className:N.a.form,children:[Object(g.jsx)(A.a,{placeholder:"Search For City",debounceTimeout:700,value:s,onChange:function(e){o(e),t(e)},loadOptions:function(e){return fetch("".concat("https://wft-geo-db.p.rapidapi.com/v1/geo","/cities?minPopulation=10000&namePrefix=").concat(e),F).then((function(e){return e.json()})).then((function(e){return{options:e.data.map((function(e){return{value:"".concat(e.latitude),label:"".concat(e.name)}}))}})).catch((function(e){return console.error(e)}))}}),Object(g.jsx)("button",{type:"submit",className:N.a.button,onClick:l,children:"SEARCH"})]})}),T=a(57),C=a.n(T),S=function(){return Object(g.jsx)("div",{className:C.a.box,children:Object(g.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"54px",height:"60px",viewBox:"0 0 24 30",children:[Object(g.jsx)("rect",{x:"0",y:"0",width:"3",height:"10",fill:"#333",children:Object(g.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0",dur:"0.6s",repeatCount:"indefinite"})}),Object(g.jsx)("rect",{x:"10",y:"0",width:"3",height:"10",fill:"#333",children:Object(g.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.2s",dur:"0.6s",repeatCount:"indefinite"})}),Object(g.jsx)("rect",{x:"20",y:"0",width:"3",height:"10",fill:"#333",children:Object(g.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.4s",dur:"0.6s",repeatCount:"indefinite"})})]})})},H=a(107),k=a(108),P=a(109),V=a(37),E=a.n(V),I=a(27),L=a.n(I),K=a(14),R=a.n(K),W=function(e){return{weekday:R()(e.forecast).format("dddd"),date:R()(e.forecast).format("MMMM Do"),location:e.forecast.city.name,temperature:e.forecast.list[0].main.temp.toFixed(1),weatherIcon:"http://openweathermap.org/img/wn/".concat(e.forecast.list[0].weather[0].icon,"@2x.png"),weatherDescription:e.forecast.list[0].weather[0].description}},B=function(){var e=Object(i.c)((function(e){return e.forecast})),t=W(e),a=t.weekday,n=t.date,c=t.location,r=t.temperature,s=t.weatherIcon,o=t.weatherDescription;return Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{className:L.a.img}),Object(g.jsx)("div",{className:L.a.gradient}),Object(g.jsxs)("div",{className:"".concat(L.a.cardInner," d-flex flex-column justify-content-between pt-3 pb-2 pl-2"),children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"font-weight-bold mb-1",children:a}),Object(g.jsx)("p",{className:"mb-8",children:n}),Object(g.jsxs)("p",{className:"d-flex align-items-baseline font-weight-lighter mb-1",children:[Object(g.jsx)("img",{width:"10",height:"15",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABHCAAAAABgu0sfAAAAAnRSTlMAAHaTzTgAAAKXSURBVHgBldQDtyNLFMXx/eln4RljW89vbNtzbdtW8p/qpHWq+6ZyfwvtrrNLKnPi3XQVmP9yQU25PUfO8lMF7F+gYP2iGlijVOWkdtFD3crLQ6r55VFS5LRKVYls35JxZY2awyo4QaRyVgU/1T+6I895Iu9U6iaRxzJOEtGutnEeKK+WQg0s4JwIfWHN2jI6cBSwCcybRhSE85fqVoBXyjk8Ss3MJTNC2Z/3AxVlDuyQ+VOZOeBWenZKqTaMSakYwPbWGJFK78N7HVtE1pSaBH6Kh/a6El9x1vfnSmFKid+BDknTgLlJh1JPcG74lQFLSmwB7cq5j2OWR312vVDsALAhYwK4rdgl4D+9BY4o1g/slwWs5i/aNQU0nAZL3gsLqnh3BuR57r1QFd6d1/JcAg6aMvxPXslzEThsPql6n/TI86hQ2Ezhjsd/YVEfgQOKjQLyAFv5i26dA54pdgpYktGb31vOAjfirs7He1G+riJd9Yt5wG5nz5W6av8Rf/8Q+EeJIZxZxQYx0+V7oF+OnYrLRFZfX738ZJ4apUaS+bhiN+kJjLWyhXzWdKP0Pyk7f8aznNvAPeVcW6Fm66lyDuSqPIwjz7598lSAu/ldZUwBj239dlsvh/OTUnfDu/Kov/w2gM9qYD+ODP9OWfaHMtqAlcbZt8vSXW+Y/Vd5zuE0yj6sgmlgSD5/3C2cA7tmf6AST3DKH/jZzbb/RuHs4cEZtSGtbmAxnN3A+TuY3fgDJ5zdmAd6Cw3/ElwVP4eyWy+BnXD2Qtrn5uq+An7L//dhnD2gH5i12YNwLioyHGcP+hfH1hi0DHRK2jHjHi6tnn1HTXoPzNTK+l3NIjaiph2hTnswSuSR9gI/e9iN4noP6uOVyn0DXHepivCQVPgAAAAASUVORK5CYII=",alt:"location",className:"mr-1"}),Object(g.jsx)("span",{children:c})]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:s,alt:"weather icon"}),Object(g.jsxs)("h2",{className:"font-weight-bold mb-1",children:[Object(g.jsx)("span",{children:r}),"\xb0C"]}),Object(g.jsx)("h5",{className:"font-weight-lighter",children:o})]})]})]})},J=function(e){var t=function(e){var t=0;console.log(e);for(var a=0;a<8;a++)e.forecast.list[a].main.temp_max>t&&(t=e.forecast.list[a].main.temp_max);return t.toFixed(1)}(e),a=function(e){var t=e.forecast.list[0].main.temp_min;console.log(e);for(var a=0;a<8;a++)e.forecast.list[a].main.temp_min<t&&(t=e.forecast.list[a].main.temp_min);return t.toFixed(1)}(e);return[{name:"Feels Like",value:e.forecast.list[0].main.feels_like.toFixed(1),unit:"%"},{name:"Humidity",value:e.forecast.list[0].main.humidity,unit:"%"},{name:"Wind",value:e.forecast.list[0].wind.speed,unit:"km/h"},{name:"air pressure",value:e.forecast.list[0].main.pressure,unit:"mb"},{name:"max temp",value:t,unit:"\xb0C"},{name:"min temp",value:a,unit:"\xb0C"}]},Q=function(){var e=Object(i.c)((function(e){return e.forecast})),t=J(e);return Object(g.jsx)("div",{className:"mt-4 mt-md-2",children:Object(g.jsx)("div",{className:"d-flex flex-column mb-2",children:t.map((function(e,t){return Object(g.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(g.jsx)("p",{className:"mb-0 font-weight-bolder text-uppercase",children:e.name}),Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{className:"mb-0 mr-2",children:e.value}),Object(g.jsx)("span",{className:"mb-0",children:e.unit})]})]},t)}))})})},Y=a(58),M=a.n(Y),X=function(e){for(var t=[],a=0,n=1;n<e.forecast.list.length+1;n++)e.forecast.list[n-1].main.feels_like>a&&(a=e.forecast.list[n-1].main.feels_like),n%8===0&&t.push(a);return{maxTempForEachDay:t,fiveDays:e.forecast.list.filter((function(e,t){return[7,15,23,31,39].includes(t)}))}},Z=a(59),U=a.n(Z),q=function(e){var t=e.day,a=e.maxTempForEachDay;return Object(g.jsxs)("li",{className:"".concat(U.a.weekday," d-flex flex-column justify-content-center align-items-center p-2"),children:[Object(g.jsx)("img",{className:"mb-2",width:"30",src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"weather icon"}),Object(g.jsx)("span",{className:"mb-2",children:R()(t.dt_txt).format("dddd").slice(0,3)}),Object(g.jsxs)("span",{className:"font-weight-bold",children:[a.toFixed(0)," \xb0"]})]})},z=function(){var e=Object(i.c)((function(e){return e.forecast})),t=X(e),a=t.maxTempForEachDay,n=t.fiveDays;return Object(g.jsx)("ul",{className:"".concat(M.a.weekList," d-flex justify-content-between p-0"),children:n.map((function(e,t){return Object(g.jsx)(q,{day:e,maxTempForEachDay:a[t]},t)}))})},G=function(){return Object(g.jsx)(H.a,{className:E.a.box,children:Object(g.jsxs)(k.a,{children:[Object(g.jsx)(P.a,{xs:12,md:4,children:Object(g.jsx)("div",{className:E.a.card,children:Object(g.jsx)(B,{})})}),Object(g.jsxs)(P.a,{xs:12,md:8,className:"d-flex flex-column justify-content-between",children:[Object(g.jsx)(Q,{}),Object(g.jsx)(z,{})]})]})})},$=a(60),ee=a.n($),te=function(e){var t=e.message;return Object(g.jsx)("div",{className:"".concat(ee.a.error," alert position-absolute"),role:"alert",children:t})};te.defaultProps={message:"An error occurred"};var ae=te,ne=function(){var e=Object(i.c)((function(e){return e.forecast}));return Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)(O,{}),Object(g.jsxs)("div",{className:v.a.box,children:["200"!==e.forecast.cod&&!e.loading&&Object(g.jsx)(D,{onSearchChange:function(e){console.log(e)}}),e.loading&&Object(g.jsx)(S,{}),"200"===e.forecast.cod&&Object(g.jsx)(G,{}),"200"!==e.forecast.cod&&e.error&&Object(g.jsx)(ae,{message:e.error})]})]})};var ce=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(ne,{})})};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(i.a,{store:h,children:Object(g.jsx)(ce,{})})}),document.getElementById("root"))},27:function(e,t,a){e.exports={card:"CurrentDay_card__1XVNY",cardInner:"CurrentDay_cardInner__3KJVN",gradient:"CurrentDay_gradient__12ZmT",img:"CurrentDay_img__1j8i7",weekday:"CurrentDay_weekday__32qxd"}},34:function(e,t,a){e.exports={heading:"Header_heading__1sNyN",light:"Header_light__1AHb_"}},35:function(e,t,a){e.exports={input:"Form_input__1yfwo",button:"Form_button__3wFkP",form:"Form_form__3hW0u"}},37:function(e,t,a){e.exports={card:"Forecast_card__1c9du",box:"Forecast_box__3cFnH"}},52:function(e,t,a){e.exports={box:"Page_box__1lMJo",button:"Page_button__3MoTc"}},57:function(e,t,a){e.exports={box:"Loader_box__wBCom"}},58:function(e,t,a){e.exports={weekList:"UpcomingDaysForecast_weekList__2C40H"}},59:function(e,t,a){e.exports={weekday:"UpcomingDaysForecastItem_weekday__1Hp2L"}},60:function(e,t,a){e.exports={error:"Error_error__cvgXO"}},67:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.fa3b9fa9.chunk.js.map